---
import HeaderComponent from "../../components/HeaderComponent.astro";
import BaseLayout from "../../layouts/BaseLayout.astro";
import FooterComponent from "../../components/FooterComponent.astro";

const allPosts = await Astro.glob('../posts/*.md');
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<BaseLayout title="标签云">
    <HeaderComponent />

    <main class="container mx-auto px-6 py-8 space-y-8">
        <div class="rounded-lg border backdrop-blur-[2px] p-6 space-y-8">
            <h1 class="text-lg font-bold text-black">标签云</h1>
            <ul class="flex flex-wrap items-center gap-4">
                {tags.map((tag) => 
                    <li><a href={`/tags/${tag}`} class="text-sm font-light rounded border shadow-sm px-1.5 py-1">#{tag}</a></li>
            )}
            </ul>
        </div>
    </main>

    <FooterComponent />
</BaseLayout>